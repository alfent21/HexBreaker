<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hex Breaker - Sound Effect Tester</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            padding: 20px;
            color: #fff;
        }

        h1 {
            text-align: center;
            margin-bottom: 30px;
            color: #00d4ff;
            text-shadow: 0 0 20px rgba(0, 212, 255, 0.5);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
        }

        .sound-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 20px;
            backdrop-filter: blur(10px);
        }

        .sound-card h3 {
            color: #ffd700;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .play-btn {
            background: linear-gradient(135deg, #00d4ff 0%, #0099cc 100%);
            border: none;
            color: #fff;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s;
            margin-bottom: 15px;
        }

        .play-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(0, 212, 255, 0.5);
        }

        .play-btn:active {
            transform: scale(0.95);
        }

        .param-row {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            gap: 10px;
        }

        .param-row label {
            min-width: 100px;
            color: #aaa;
        }

        .param-row input[type="range"] {
            flex: 1;
            accent-color: #00d4ff;
        }

        .param-row .value {
            min-width: 60px;
            text-align: right;
            color: #00d4ff;
        }

        .description {
            font-size: 12px;
            color: #888;
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
    </style>
</head>

<body>
    <h1>ğŸ® Hex Breaker - Sound Effect Tester</h1>

    <div class="container">
        <!-- Wall Hit (æ—§Block Hit - éŸ³ã‚’äº¤æ›) -->
        <div class="sound-card">
            <h3>ğŸ§± Wall Hit</h3>
            <button class="play-btn" onclick="playWallHit()">â–¶ Play</button>
            <div class="param-row">
                <label>Frequency:</label>
                <input type="range" id="wallHit_freq" min="200" max="1000" value="412">
                <span class="value" id="wallHit_freq_val">412 Hz</span>
            </div>
            <div class="param-row">
                <label>Duration:</label>
                <input type="range" id="wallHit_dur" min="30" max="200" value="60">
                <span class="value" id="wallHit_dur_val">60 ms</span>
            </div>
            <div class="description">å£ã«å½“ãŸã£ãŸæ™‚ã®è·³ã­éŸ³</div>
        </div>

        <!-- Block Destroy -->
        <div class="sound-card">
            <h3>ğŸ’¥ Block Destroy</h3>
            <button class="play-btn" onclick="playBlockDestroy()">â–¶ Play</button>
            <div class="param-row">
                <label>Start Freq:</label>
                <input type="range" id="blockDestroy_startFreq" min="400" max="1200" value="800">
                <span class="value" id="blockDestroy_startFreq_val">800 Hz</span>
            </div>
            <div class="param-row">
                <label>End Freq:</label>
                <input type="range" id="blockDestroy_endFreq" min="100" max="400" value="200">
                <span class="value" id="blockDestroy_endFreq_val">200 Hz</span>
            </div>
            <div class="param-row">
                <label>Duration:</label>
                <input type="range" id="blockDestroy_dur" min="50" max="300" value="120">
                <span class="value" id="blockDestroy_dur_val">120 ms</span>
            </div>
            <div class="description">ãƒ–ãƒ­ãƒƒã‚¯ãŒç ´å£Šã•ã‚ŒãŸæ™‚ã®çˆ†ç™ºçš„ãªä¸‹é™éŸ³</div>
        </div>

        <!-- Paddle Hit (æ—§Wall - éŸ³ã‚’äº¤æ›) -->
        <div class="sound-card">
            <h3>ğŸ“ Paddle Hit</h3>
            <button class="play-btn" onclick="playPaddleHit()">â–¶ Play</button>
            <div class="param-row">
                <label>Frequency:</label>
                <input type="range" id="paddleHit_freq" min="300" max="800" value="600">
                <span class="value" id="paddleHit_freq_val">600 Hz</span>
            </div>
            <div class="param-row">
                <label>Duration:</label>
                <input type="range" id="paddleHit_dur" min="30" max="150" value="80">
                <span class="value" id="paddleHit_dur_val">80 ms</span>
            </div>
            <div class="description">ãƒ‘ãƒ‰ãƒ«ã§ãƒœãƒ¼ãƒ«ã‚’æ‰“ã¡è¿”ã—ãŸæ™‚ã®æ‰“æ’ƒéŸ³</div>
        </div>

        <!-- Gem Collect -->
        <div class="sound-card">
            <h3>ğŸ’ Gem Collect</h3>
            <button class="play-btn" onclick="playGemCollect()">â–¶ Play</button>
            <div class="param-row">
                <label>Start Freq:</label>
                <input type="range" id="gem_startFreq" min="400" max="1000" value="600">
                <span class="value" id="gem_startFreq_val">600 Hz</span>
            </div>
            <div class="param-row">
                <label>End Freq:</label>
                <input type="range" id="gem_endFreq" min="800" max="2000" value="1200">
                <span class="value" id="gem_endFreq_val">1200 Hz</span>
            </div>
            <div class="param-row">
                <label>Duration:</label>
                <input type="range" id="gem_dur" min="100" max="400" value="200">
                <span class="value" id="gem_dur_val">200 ms</span>
            </div>
            <div class="description">ã‚¸ã‚§ãƒ ã‚’å–å¾—ã—ãŸæ™‚ã®ã‚­ãƒ©ã‚­ãƒ©ä¸Šæ˜‡éŸ³</div>
        </div>

        <!-- Weapon Activate -->
        <div class="sound-card">
            <h3>âš”ï¸ Weapon Activate</h3>
            <button class="play-btn" onclick="playWeaponActivate()">â–¶ Play</button>
            <div class="param-row">
                <label>Frequency:</label>
                <input type="range" id="weapon_freq" min="200" max="600" value="507">
                <span class="value" id="weapon_freq_val">507 Hz</span>
            </div>
            <div class="param-row">
                <label>Duration:</label>
                <input type="range" id="weapon_dur" min="100" max="500" value="382">
                <span class="value" id="weapon_dur_val">382 ms</span>
            </div>
            <div class="description">ã‚¦ã‚¨ãƒãƒ³ã‚’ç™ºå‹•ã—ãŸæ™‚ã®ãƒ‘ãƒ¯ãƒ¼ã‚¢ãƒƒãƒ—éŸ³</div>
        </div>

        <!-- Laser Fire -->
        <div class="sound-card">
            <h3>ğŸ”« Laser Fire</h3>
            <button class="play-btn" onclick="playLaserFire()">â–¶ Play</button>
            <div class="param-row">
                <label>Frequency:</label>
                <input type="range" id="laser_freq" min="600" max="1500" value="1000">
                <span class="value" id="laser_freq_val">1000 Hz</span>
            </div>
            <div class="param-row">
                <label>Duration:</label>
                <input type="range" id="laser_dur" min="200" max="800" value="400">
                <span class="value" id="laser_dur_val">400 ms</span>
            </div>
            <div class="param-row">
                <label>Wobble:</label>
                <input type="range" id="laser_wobble" min="0" max="50" value="20">
                <span class="value" id="laser_wobble_val">20 Hz</span>
            </div>
            <div class="description">ã€Œã‚·ãƒ¥ã‚¤ãƒ¼ãƒ³ã€ã¨ã„ã†é•·ã‚ã®ãƒ“ãƒ¼ãƒ éŸ³</div>
        </div>

        <!-- Boss Hit -->
        <div class="sound-card">
            <h3>ğŸ•·ï¸ Boss Hit</h3>
            <button class="play-btn" onclick="playBossHit()">â–¶ Play</button>
            <div class="param-row">
                <label>Frequency:</label>
                <input type="range" id="bossHit_freq" min="100" max="400" value="200">
                <span class="value" id="bossHit_freq_val">200 Hz</span>
            </div>
            <div class="param-row">
                <label>Duration:</label>
                <input type="range" id="bossHit_dur" min="100" max="400" value="200">
                <span class="value" id="bossHit_dur_val">200 ms</span>
            </div>
            <div class="description">ãƒœã‚¹ã«ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’ä¸ãˆãŸæ™‚ã®é‡ã„æ‰“æ’ƒéŸ³</div>
        </div>

        <!-- Stage Clear -->
        <div class="sound-card">
            <h3>ğŸ‰ Stage Clear</h3>
            <button class="play-btn" onclick="playStageClear()">â–¶ Play</button>
            <div class="param-row">
                <label>Base Freq:</label>
                <input type="range" id="clear_freq" min="300" max="600" value="400">
                <span class="value" id="clear_freq_val">400 Hz</span>
            </div>
            <div class="description">ã‚¹ãƒ†ãƒ¼ã‚¸ã‚¯ãƒªã‚¢æ™‚ã®ãƒ•ã‚¡ãƒ³ãƒ•ã‚¡ãƒ¼ãƒ¬</div>
        </div>

        <!-- Game Over -->
        <div class="sound-card">
            <h3>ğŸ’€ Game Over</h3>
            <button class="play-btn" onclick="playGameOver()">â–¶ Play</button>
            <div class="param-row">
                <label>Start Freq:</label>
                <input type="range" id="gameover_freq" min="200" max="500" value="400">
                <span class="value" id="gameover_freq_val">400 Hz</span>
            </div>
            <div class="description">ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼æ™‚ã®æ®‹å¿µéŸ³</div>
        </div>

        <!-- Block Hit (ãƒ–ãƒ­ãƒƒã‚¯ã«ãƒ’ãƒƒãƒˆ - æ–°è¦è¿½åŠ ) -->
        <div class="sound-card">
            <h3>ğŸ¯ Block Hit</h3>
            <button class="play-btn" onclick="playBlockHit()">â–¶ Play</button>
            <div class="param-row">
                <label>Frequency:</label>
                <input type="range" id="blockHit_freq" min="300" max="800" value="500">
                <span class="value" id="blockHit_freq_val">500 Hz</span>
            </div>
            <div class="param-row">
                <label>Duration:</label>
                <input type="range" id="blockHit_dur" min="30" max="150" value="50">
                <span class="value" id="blockHit_dur_val">50 ms</span>
            </div>
            <div class="description">ãƒ–ãƒ­ãƒƒã‚¯ã«ãƒœãƒ¼ãƒ«ãŒå½“ãŸã£ãŸæ™‚ï¼ˆç ´å£Šãªã—ï¼‰</div>
        </div>
    </div>

    <script>
        let audioCtx = null;

        function getAudioContext() {
            if (!audioCtx) {
                audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            }
            return audioCtx;
        }

        // Update all value displays
        document.querySelectorAll('input[type="range"]').forEach(input => {
            input.addEventListener('input', () => {
                const valSpan = document.getElementById(input.id + '_val');
                if (valSpan) {
                    const unit = input.id.includes('freq') ? ' Hz' : ' ms';
                    valSpan.textContent = input.value + unit;
                }
            });
        });

        function getVal(id) {
            return parseFloat(document.getElementById(id).value);
        }

        // Wall Hit - bouncy (æ—§Paddleã®éŸ³)
        function playWallHit() {
            const ctx = getAudioContext();
            const osc = ctx.createOscillator();
            const gain = ctx.createGain();

            const freq = getVal('wallHit_freq');
            const dur = getVal('wallHit_dur') / 1000;

            osc.type = 'sine';
            osc.frequency.setValueAtTime(freq, ctx.currentTime);
            osc.frequency.exponentialRampToValueAtTime(freq * 0.8, ctx.currentTime + dur);
            gain.gain.setValueAtTime(0.25, ctx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + dur);

            osc.connect(gain);
            gain.connect(ctx.destination);
            osc.start();
            osc.stop(ctx.currentTime + dur);
        }

        // Block Destroy - descending burst
        function playBlockDestroy() {
            const ctx = getAudioContext();
            const osc = ctx.createOscillator();
            const gain = ctx.createGain();

            const startFreq = getVal('blockDestroy_startFreq');
            const endFreq = getVal('blockDestroy_endFreq');
            const dur = getVal('blockDestroy_dur') / 1000;

            osc.type = 'sawtooth';
            osc.frequency.setValueAtTime(startFreq, ctx.currentTime);
            osc.frequency.exponentialRampToValueAtTime(endFreq, ctx.currentTime + dur);
            gain.gain.setValueAtTime(0.3, ctx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + dur);

            osc.connect(gain);
            gain.connect(ctx.destination);
            osc.start();
            osc.stop(ctx.currentTime + dur);
        }

        // Paddle Hit - short beep (æ—§Block Hitã®éŸ³)
        function playPaddleHit() {
            const ctx = getAudioContext();
            const osc = ctx.createOscillator();
            const gain = ctx.createGain();

            const freq = getVal('paddleHit_freq');
            const dur = getVal('paddleHit_dur') / 1000;

            osc.type = 'square';
            osc.frequency.setValueAtTime(freq, ctx.currentTime);
            gain.gain.setValueAtTime(0.2, ctx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + dur);

            osc.connect(gain);
            gain.connect(ctx.destination);
            osc.start();
            osc.stop(ctx.currentTime + dur);
        }

        // Block Hit - lighter beep for non-destroying hit
        function playBlockHit() {
            const ctx = getAudioContext();
            const osc = ctx.createOscillator();
            const gain = ctx.createGain();

            const freq = getVal('blockHit_freq');
            const dur = getVal('blockHit_dur') / 1000;

            osc.type = 'triangle';
            osc.frequency.setValueAtTime(freq, ctx.currentTime);
            gain.gain.setValueAtTime(0.15, ctx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + dur);

            osc.connect(gain);
            gain.connect(ctx.destination);
            osc.start();
            osc.stop(ctx.currentTime + dur);
        }

        // Gem Collect - ascending sparkle
        function playGemCollect() {
            const ctx = getAudioContext();
            const osc = ctx.createOscillator();
            const gain = ctx.createGain();

            const startFreq = getVal('gem_startFreq');
            const endFreq = getVal('gem_endFreq');
            const dur = getVal('gem_dur') / 1000;

            osc.type = 'sine';
            osc.frequency.setValueAtTime(startFreq, ctx.currentTime);
            osc.frequency.exponentialRampToValueAtTime(endFreq, ctx.currentTime + dur);
            gain.gain.setValueAtTime(0.2, ctx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + dur);

            osc.connect(gain);
            gain.connect(ctx.destination);
            osc.start();
            osc.stop(ctx.currentTime + dur);
        }

        // Weapon Activate - power up
        function playWeaponActivate() {
            const ctx = getAudioContext();
            const dur = getVal('weapon_dur') / 1000;
            const baseFreq = getVal('weapon_freq');

            for (let i = 0; i < 3; i++) {
                const osc = ctx.createOscillator();
                const gain = ctx.createGain();

                const startTime = ctx.currentTime + i * (dur / 4);
                const freq = baseFreq * (1 + i * 0.25);

                osc.type = 'triangle';
                osc.frequency.setValueAtTime(freq, startTime);
                gain.gain.setValueAtTime(0, startTime);
                gain.gain.linearRampToValueAtTime(0.2, startTime + 0.02);
                gain.gain.exponentialRampToValueAtTime(0.01, startTime + dur / 3);

                osc.connect(gain);
                gain.connect(ctx.destination);
                osc.start(startTime);
                osc.stop(startTime + dur / 3);
            }
        }

        // Laser Fire - é‡‘å±çš„ãªã‚·ãƒ¥ã‚¤ãƒ¼ãƒ³éŸ³
        function playLaserFire() {
            const ctx = getAudioContext();

            const freq = getVal('laser_freq');
            const dur = getVal('laser_dur') / 1000;
            const wobbleAmount = getVal('laser_wobble');

            // ãƒ¡ã‚¤ãƒ³ã‚ªã‚·ãƒ¬ãƒ¼ã‚¿ãƒ¼ï¼ˆãƒã‚³ã‚®ãƒªæ³¢ = é‡‘å±çš„ï¼‰
            const osc1 = ctx.createOscillator();
            const osc2 = ctx.createOscillator();
            const gain = ctx.createGain();

            // LFO for fast vibrato (æ©Ÿæ¢°çš„ãªãƒ“ãƒ“ãƒ“æ„Ÿ)
            const lfo = ctx.createOscillator();
            const lfoGain = ctx.createGain();

            lfo.type = 'square';
            lfo.frequency.setValueAtTime(30 + wobbleAmount, ctx.currentTime); // é«˜é€Ÿãƒ“ãƒ–ãƒ©ãƒ¼ãƒˆ
            lfoGain.gain.setValueAtTime(wobbleAmount * 2, ctx.currentTime);

            lfo.connect(lfoGain);
            lfoGain.connect(osc1.frequency);
            lfoGain.connect(osc2.frequency);

            // 2ã¤ã®ã‚ªã‚·ãƒ¬ãƒ¼ã‚¿ãƒ¼ã§ãƒ‡ãƒãƒ¥ãƒ¼ãƒ³ï¼ˆåšã¿ã‚’å‡ºã™ï¼‰
            osc1.type = 'sawtooth';
            osc2.type = 'sawtooth';
            osc1.frequency.setValueAtTime(freq, ctx.currentTime);
            osc2.frequency.setValueAtTime(freq * 1.01, ctx.currentTime); // å¾®å¦™ã«ãšã‚‰ã™

            // å‘¨æ³¢æ•°ã‚’æ€¥ä¸Šæ˜‡â†’ç¶­æŒâ†’æ€¥ä¸‹é™ï¼ˆã‚·ãƒ¥ã‚¤ãƒ¼ãƒ³ï¼‰
            const peakTime = ctx.currentTime + dur * 0.15;
            const holdTime = ctx.currentTime + dur * 0.7;

            osc1.frequency.linearRampToValueAtTime(freq * 1.5, peakTime);
            osc1.frequency.setValueAtTime(freq * 1.5, holdTime);
            osc1.frequency.exponentialRampToValueAtTime(freq * 0.5, ctx.currentTime + dur);

            osc2.frequency.linearRampToValueAtTime(freq * 1.51, peakTime);
            osc2.frequency.setValueAtTime(freq * 1.51, holdTime);
            osc2.frequency.exponentialRampToValueAtTime(freq * 0.51, ctx.currentTime + dur);

            // ã‚·ãƒ£ãƒ¼ãƒ—ãªã‚¢ã‚¿ãƒƒã‚¯ã€é•·ã„ãƒªãƒªãƒ¼ã‚¹
            gain.gain.setValueAtTime(0, ctx.currentTime);
            gain.gain.linearRampToValueAtTime(0.25, ctx.currentTime + 0.01); // ç¬æ™‚ã«ã‚¢ã‚¿ãƒƒã‚¯
            gain.gain.setValueAtTime(0.2, peakTime);
            gain.gain.setValueAtTime(0.15, holdTime);
            gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + dur);

            osc1.connect(gain);
            osc2.connect(gain);
            gain.connect(ctx.destination);

            lfo.start();
            osc1.start();
            osc2.start();
            lfo.stop(ctx.currentTime + dur);
            osc1.stop(ctx.currentTime + dur);
            osc2.stop(ctx.currentTime + dur);
        }

        // Boss Hit - heavy thump
        function playBossHit() {
            const ctx = getAudioContext();
            const osc = ctx.createOscillator();
            const gain = ctx.createGain();

            const freq = getVal('bossHit_freq');
            const dur = getVal('bossHit_dur') / 1000;

            osc.type = 'sine';
            osc.frequency.setValueAtTime(freq, ctx.currentTime);
            osc.frequency.exponentialRampToValueAtTime(freq * 0.5, ctx.currentTime + dur);
            gain.gain.setValueAtTime(0.4, ctx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + dur);

            osc.connect(gain);
            gain.connect(ctx.destination);
            osc.start();
            osc.stop(ctx.currentTime + dur);
        }

        // Stage Clear - fanfare
        function playStageClear() {
            const ctx = getAudioContext();
            const baseFreq = getVal('clear_freq');
            const notes = [1, 1.25, 1.5, 2];

            notes.forEach((mult, i) => {
                const osc = ctx.createOscillator();
                const gain = ctx.createGain();

                const startTime = ctx.currentTime + i * 0.15;

                osc.type = 'square';
                osc.frequency.setValueAtTime(baseFreq * mult, startTime);
                gain.gain.setValueAtTime(0, startTime);
                gain.gain.linearRampToValueAtTime(0.15, startTime + 0.02);
                gain.gain.setValueAtTime(0.15, startTime + 0.12);
                gain.gain.exponentialRampToValueAtTime(0.01, startTime + 0.3);

                osc.connect(gain);
                gain.connect(ctx.destination);
                osc.start(startTime);
                osc.stop(startTime + 0.3);
            });
        }

        // Game Over - descending sad
        function playGameOver() {
            const ctx = getAudioContext();
            const baseFreq = getVal('gameover_freq');
            const notes = [1, 0.9, 0.8, 0.6];

            notes.forEach((mult, i) => {
                const osc = ctx.createOscillator();
                const gain = ctx.createGain();

                const startTime = ctx.currentTime + i * 0.3;

                osc.type = 'triangle';
                osc.frequency.setValueAtTime(baseFreq * mult, startTime);
                gain.gain.setValueAtTime(0, startTime);
                gain.gain.linearRampToValueAtTime(0.2, startTime + 0.02);
                gain.gain.exponentialRampToValueAtTime(0.01, startTime + 0.4);

                osc.connect(gain);
                gain.connect(ctx.destination);
                osc.start(startTime);
                osc.stop(startTime + 0.4);
            });
        }
    </script>
</body>

</html>